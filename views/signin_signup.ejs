<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Authentication</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <section class="vh-100" style="background-color: #eee">
        <div class="container h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-lg-12 col-xl-11">
                    <div class="card text-black" style="border-radius: 25px">
                        <div class="card-body p-md-5">
                            <!-- Sign In Form -->
                            <div id="signin-section" class="row justify-content-center hidden">
                                <!-- Image Column (Sign In) -->
                                <div id="signin-img" class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1">
                                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                                        class="img-fluid" alt="Sample image" />
                                </div>
                                <!-- Form Column (Sign In) -->
                                <div class="col-md-10 col-lg-6 col-xl-5 order-2">
                                    <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign In</p>
                                    <form class="mx-1 mx-md-4">
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                            <div class="form-outline flex-fill mb-0">
                                                <input type="email" id="signin-email" class="form-control" />
                                                <label class="form-label" for="signin-email">Your Email</label>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                                            <div class="form-outline flex-fill mb-0">
                                                <input type="password" id="signin-password" class="form-control" />
                                                <label class="form-label" for="signin-password">Password</label>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                                            <button type="button" class="btn btn-primary btn-lg">Sign In</button>
                                        </div>
                                    </form>
                                    <p class="text-center text-muted mt-5 mb-0">Don't have an account? <a href="#" id="show-signup" class="fw-bold text-body"><u>Sign Up</u></a></p>
                                </div>
                            </div>

                            <!-- Sign Up Form -->
                            <div id="signup-section" class="row justify-content-center hidden">
                                <!-- Form Column (Sign Up) -->
                                <div class="col-md-10 col-lg-6 col-xl-5 order-1 order-lg-1">
                                    <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign up</p>
                                    <form class="mx-1 mx-md-4">
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                            <div class="form-outline flex-fill mb-0">
                                                <input type="email" id="signup-email" class="form-control" />
                                                <label class="form-label" for="signup-email">Your Email</label>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                                            <div class="form-outline flex-fill mb-0">
                                                <input type="password" id="signup-password" class="form-control" />
                                                <label class="form-label" for="signup-password">Password</label>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-key fa-lg me-3 fa-fw"></i>
                                            <div class="form-outline flex-fill mb-0">
                                                <input type="password" id="signup-password-repeat" class="form-control" />
                                                <label class="form-label" for="signup-password-repeat">Repeat your password</label>
                                            </div>
                                        </div>
                                        <div class="form-check d-flex mb-5">
                                            <input class="form-check-input me-2" type="checkbox" value="" id="signup-terms" />
                                            <label class="form-check-label" for="signup-terms">
                                                I agree to all statements in <a href="#!">Terms of service</a>
                                            </label>
                                        </div>
                                        <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                                            <button type="button" class="btn btn-primary btn-lg">Register</button>
                                        </div>
                                    </form>
                                    <p class="text-center text-muted mt-5 mb-0">Already have an account? <a href="#" id="show-signin" class="fw-bold text-body"><u>Sign In</u></a></p>
                                </div>
                                <!-- Image Column (Sign Up) -->
                                <div id="signup-img" class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-2 order-lg-2">
                                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                                        class="img-fluid" alt="Sample image" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript to Handle Cookie and Section Toggle -->
    <script>
        // Check for cookies or localStorage
        function checkCookie() {
            let user = getCookie("userLoggedIn");
            if (user != "") {
                return true;  // Cookie found
            } else if (localStorage.getItem("userLoggedIn")) {
                return true;  // Local storage data found
            }
            return false;  // No cookie or localStorage found
        }

        // Get specific cookie
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        const signinSection = document.getElementById("signin-section");
        const signupSection = document.getElementById("signup-section");
        const signupLink = document.getElementById("show-signup");
        const signinLink = document.getElementById("show-signin");

        // Show Sign In or Sign Up based on cookie check
        if (checkCookie()) {
            signinSection.classList.remove("hidden");
        } else {
            signupSection.classList.remove("hidden");
        }

        // Toggle between sign-in and sign-up
        signupLink.addEventListener("click", function (e) {
            e.preventDefault();
            signinSection.classList.add("hidden");
            signupSection.classList.remove("hidden");
        });

        signinLink.addEventListener("click", function (e) {
            e.preventDefault();
            signupSection.classList.add("hidden");
            signinSection.classList.remove("hidden");
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
